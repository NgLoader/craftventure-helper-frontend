{"version":3,"file":"src_app_components_event_event_module_ts-es2015.js","mappings":"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","sources":["./src/app/components/event/event.component.ts","./src/app/components/event/event.component.html","./src/app/components/event/event.module.ts","./src/app/service/content/impl/event.service.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AuthService } from 'src/app/service/auth/auth.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ImageViewContent, ImageViewContentElement } from 'src/app/shared/image-view/image-view.component';\r\nimport { PopupMenuComponent } from 'src/app/shared/popup-menu/popup-menu.component';\r\nimport { Event, EventCategory, EventService } from 'src/app/service/content/impl/event.service';\r\nimport { Router } from '@angular/router';\r\nimport { DialogFormComponent } from 'src/app/shared/dialog-form/dialog-form.component';\r\n\r\n@Component({\r\n  selector: 'app-event',\r\n  templateUrl: './event.component.html',\r\n  styleUrls: ['./event.component.css']\r\n})\r\nexport class EventComponent implements OnInit {\r\n\r\n  imageContent: ImageViewContent[] = [];\r\n\r\n  @ViewChild(PopupMenuComponent) popupMenu: PopupMenuComponent;\r\n\r\n  currentPathId: string;\r\n\r\n  constructor(\r\n    private eventService: EventService,\r\n    private authService: AuthService,\r\n    private dialog: MatDialog,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    let url = this.router.url;\r\n    url = url.slice(6, url.length);\r\n    this.loadPageContent(url.length > 0 ? url.split('/') : []);\r\n  }\r\n\r\n  loadPageContent(path: string[]) {\r\n    if (path.length > 0) {\r\n      this.eventService.getIdForPath(path).subscribe(id => {\r\n        if (id) {\r\n          this.currentPathId = id.id;\r\n          this.eventService.getContent(this.currentPathId).subscribe(result => {\r\n            if (result) {\r\n              this.loadContent(result.categorys, result.elements);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.currentPathId = undefined;\r\n      this.eventService.getContent(undefined).subscribe(result => {\r\n        console.log('CONTENT UPDATE ' + result);\r\n        if (result) {\r\n          this.loadContent(result.categorys, result.elements);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  loadContent(categorys: EventCategory[], items: Event[]) {\r\n    const imageContent: ImageViewContent[] = [];\r\n    if (categorys) {\r\n      for (const category of categorys) {\r\n        imageContent.push({\r\n          front: {\r\n            id: `C_${category._id}`,\r\n            name: category.name,\r\n            image: category.image,\r\n            leftClick: (() => this.router.navigate([`${this.router.url}/${category.name}`])).bind(this),\r\n            rightClick: this.openSettings.bind(this)\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    if (items) {\r\n      for (const item of items) {\r\n        imageContent.push({\r\n          front: {\r\n            id: `I_${item._id}`,\r\n            name: item.name,\r\n            image: item.image,\r\n            rightClick: this.openSettings.bind(this)\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    imageContent.push({\r\n      front: {\r\n        name: 'Create Item',\r\n        image: 'assets/image/create_item.png',\r\n        leftClick: this.openCreateCategory.bind(this),\r\n        rightClick: this.swapSelection.bind(this),\r\n        canView: this.authService.isInEditing.bind(this),\r\n      },\r\n      back: {\r\n        name: \"Create Category\",\r\n        image: 'assets/image/create_category.png',\r\n        leftClick: this.openCreateCategory.bind(this),\r\n        rightClick: this.swapSelection.bind(this),\r\n        canView: this.authService.isInEditing.bind(this),\r\n      }\r\n    });\r\n\r\n    this.imageContent = imageContent;\r\n  }\r\n\r\n  swapSelection(event: MouseEvent, content: ImageViewContentElement) {\r\n    content.parent.flipped = !content.parent.flipped;\r\n    return true;\r\n  }\r\n\r\n  openSettings(event: MouseEvent, content: ImageViewContentElement) {\r\n    if (!this.authService.isInEditing()) {\r\n      return false;\r\n    }\r\n\r\n    this.popupMenu.fields = [\r\n      {\r\n        name: 'Delete',\r\n        leftClick: ((event2) => this.openDeleteDialog(event2, content)).bind(this)\r\n      }];\r\n    this.popupMenu.openMenu(event);\r\n    return true;\r\n  }\r\n\r\n  openCreateCategory(event: MouseEvent, content: ImageViewContentElement) {\r\n    if (!this.authService.isInEditing()) {\r\n      return false;\r\n    }\r\n\r\n    const dialog = this.dialog.open(DialogFormComponent);\r\n    const instance = dialog.componentInstance;\r\n    instance.title = \"Create event\";\r\n    instance.fields = [{\r\n      id: 'name',\r\n      name: 'Name'\r\n    }];\r\n    instance.submit = () => {\r\n      instance.title = \"Loading\";\r\n      this.eventService.createCategory(undefined, {\r\n        name: instance.getValue('name'),\r\n        description: '',\r\n        image: '',\r\n        keywords: []\r\n      }).subscribe(res => {\r\n        instance.title = \"Success\";\r\n        this.eventService.getContent(this.currentPathId, false).subscribe();\r\n        dialog.close();\r\n      }, error => {\r\n        console.log(error);\r\n      });\r\n    }\r\n    return true;\r\n  }\r\n\r\n  openDeleteDialog(event: MouseEvent, content: ImageViewContentElement): boolean {\r\n    if (!this.authService.isInEditing()) {\r\n      return false;\r\n    }\r\n\r\n    const dialog = this.dialog.open(DialogFormComponent);\r\n    const instance = dialog.componentInstance;\r\n    instance.title = \"Delete\";\r\n    instance.submit = () => {\r\n      instance.title = \"Loading\";\r\n      if (content.id.startsWith('C_')) {\r\n        this.eventService.deleteCategory(content.id.substring(2)).subscribe(() => {\r\n          this.eventService.getContent(this.currentPathId, false).subscribe();\r\n          dialog.close();\r\n        });\r\n        return;\r\n      }\r\n      this.eventService.deleteElement(content.id.substring(2)).subscribe(() => {\r\n        this.eventService.getContent(this.currentPathId, false).subscribe();\r\n        dialog.close();\r\n      });\r\n    }\r\n    return true;\r\n  }\r\n}","<div *ngIf='imageContent; then loadedTemplate; else loadingTemplate'></div>\r\n<ng-template #loadedTemplate>\r\n    <app-content-header title=\"Events\"></app-content-header>\r\n    <app-image-view [content]=\"this.imageContent\"></app-image-view>\r\n    <app-popup-menu></app-popup-menu>\r\n</ng-template>\r\n\r\n<ng-template #loadingTemplate>\r\n    <app-loading></app-loading>\r\n</ng-template>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { EventComponent } from './event.component';\r\nimport { LoadingModule } from '../layout/loading/loading.module';\r\nimport { DialogFormModule } from 'src/app/shared/dialog-form/dialog-form.module';\r\nimport { ImageViewModule } from 'src/app/shared/image-view/image-view.module';\r\nimport { ContentHeaderModule } from 'src/app/shared/content-header/content-header.module';\r\nimport { PopupMenuModule } from 'src/app/shared/popup-menu/popup-menu.module';\r\n\r\n@NgModule({\r\n  declarations: [EventComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LoadingModule,\r\n    DialogFormModule,\r\n    ImageViewModule,\r\n    ContentHeaderModule,\r\n    PopupMenuModule,\r\n\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: EventComponent\r\n      }\r\n    ])\r\n  ]\r\n})\r\nexport class EventModule { }\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\nimport { ApiService } from \"../../api/api.service\";\r\nimport { ContentService, ICategory, IElement, Response, SearchElementOptions } from \"../content.service\";\r\n\r\nexport interface EventCategory extends ICategory {\r\n\tname: string,\r\n\timage: string,\r\n\tdescription: string,\r\n\tkeywords: string[]\r\n}\r\n\r\nexport interface Event extends IElement {\r\n\tname: string,\r\n\timage: string,\r\n\tdescription: string,\r\n\tkeywords: string[]\r\n}\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport abstract class EventService extends ContentService<EventCategory, Event> {\r\n\r\n\tpublic static readonly ROUTE_ELEMENT = \"event\";\r\n\tpublic static readonly ROUTE_CATEGORY = \"event/category\";\r\n\r\n\t_getIdForPath(path: string[]): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_ELEMENT}/path`, { path });\r\n\t}\r\n\r\n\t_getCategorys(options: SearchElementOptions): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_CATEGORY}`, options);\r\n\t}\r\n\r\n\t_getElements(options: SearchElementOptions): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_ELEMENT}`, options);\r\n\t}\r\n\r\n\t_createCategory(parentId: string, category: EventCategory): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_CATEGORY}/create`, { ...category, _parentId: parentId } );\r\n\t}\r\n\r\n\t_createElement(categoryId: string, element: Event): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_ELEMENT}/create`, { ...element, _categoryId: categoryId } );\r\n\t}\r\n\r\n\t_updateCategory(categoryId: string, category: EventCategory): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_CATEGORY}/update`, { ...category, _id: categoryId });\r\n\t}\r\n\r\n\t_updateElement(elementId: string, element: Event): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_ELEMENT}/update`, {  ...element, _id: elementId });\r\n\t}\r\n\r\n\t_deleteCategory(categoryId: string): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_CATEGORY}/delete`, { _id: categoryId });\r\n\t}\r\n\r\n\t_deleteElement(elementId: string): Observable<Response> {\r\n\t\treturn this.httpClient.post<Response>(`${ApiService.DOMAIN}/${EventService.ROUTE_ELEMENT}/delete`, { _id: elementId });\r\n\t}\r\n}"],"names":[],"sourceRoot":"webpack:///"}